!function(t){var e=function(t){return 0<t.offsetWidth},n=function(t,e){if(t&&!e){var n,r=location.hash;r&&-1!==(n=r.indexOf("&"))&&(t+=r.substr(n)),history.replaceState(null,null,location.origin+location.pathname+location.search+"#"+t)}},r=function(t){var e,n=t.getBearing(),r=t.getPitch(),i=0!==n||0!==r;return i&&(t._busyStraightBounds=!0,t.setBearing(0).setPitch(0)),e=t.getBounds(),i&&(t.setBearing(n).setPitch(r),t._busyStraightBounds=!1),e},i=function(t,e){var n,i,o,a="string"==typeof t;if(a){var s=e,l=function(e,n){var r=0;return void 0!==t[e]&&n===t[e].charAt(t[e].length-1).toLowerCase()&&(r=t[e].slice(0,-1))&&!isNaN(r)?r:0},g=function(t,e){return!(t<-86||t>86)&&(e<-180?e=e%360+360:e>180&&(e=e%360-360),e)};if(-1!==(n=t.indexOf("&"))&&(t=t.substr(0,n)),!((t=t.split(","))&&2<t.length)||isNaN(t[0])||isNaN(t[1])&&!(n=t[1].indexOf("x")))return!1;if(e=0<n){if(n=t[1].split("x"),isNaN(n[0])||isNaN(n[1])||isNaN(t[2]))return!1;var u=t[0],c=g(u,n[0]),h=n[1],f=g(h,t[2]);if(!c||!f)return!1;s?n={bounds:[[u,c],[h,f]],latNW:u,lngNW:c,latSE:h,lngSE:f}:(o=[[c,u],[f,h]],n={bounds:new mapboxgl.LngLatBounds(o)})}else{var d=t[0],p=g(d,t[1]);if(!p)return!1;n={center:s?[d,p]:[p,d],zoom:l(2,"z"),lat:d,lng:p}}s||(n.pitch=l((n.bearing=l(3,"b"))?4:3,"p"))}else{s=void 0===t.getPitch;var N=t.getCenter(),b=t.getZoom(),S=t._lastViewport;if(n={zoom:b,center:N,lat:N.lat,lng:N.lng,isMoved:S&&(N.lat!==S.lat||N.lng!==S.lng||b!==S.zoom)},e&&(i=n.bounds=t.getBounds(),s)){var v=i.getNorthWest(),m=i.getSouthEast();n.latNW=v.lat,n.lngNW=v.lng,n.latSE=m.lat,n.lngSE=m.lng}s||(n.bearing=t.getBearing(),n.pitch=t.getPitch())}return!s&&e&&(a||(o=i.toArray()),n.latNE=o[0][1],n.lngNE=o[0][0],n.latSW=o[1][1],n.lngSW=o[1][0],(a||0>e)&&(a||0===n.bearing&&0===n.pitch||(o=(i=r(t)).toArray()),n.straightBounds=i,n.slatNE=o[0][1],n.slngNE=o[0][0],n.slatSW=o[1][1],n.slngSW=o[1][0])),n.toString=function(t){var e=this,n=e.latNE||e.latNW;if(e.lat||n)return(!n||t&&e.lat?e.lat+","+e.lng+","+e.zoom+"z":void 0===e.slatNE?e.latNW+","+e.lngNW+"x"+e.latSE+","+e.lngSE:e.slatNE+","+e.slngNE+"x"+e.slatSW+","+e.slngSW)+(e.bearing?","+e.bearing+"b":"")+(e.pitch?","+e.pitch+"p":"")},n},o=function(t,r,o,a){if(!t._busyStraightBounds&&e(t.getContainer())){void 0===r&&(r=!0);var s=i(t,!r&&-1),l=s.toString(r);if(l!==t._lastVStr){if(n(l,a),void 0===o||o)try{localStorage.setItem(o||"map-pos",l+"|"+(new Date).getTime())}catch(t){}t._lastViewport=s,t._lastVStr=l}return s}},a=function(t,e,r,o,a){var s,l,g=!o&&location.hash;try{(r=localStorage.getItem(r||"map-pos"))&&(r=r.split("|"))&&(l=parseInt(r[1]),r=r[0])}catch(t){}return(!l||l+5e3<(new Date).getTime())&&g&&"#"===g.charAt(0)?(s=i(g.substr(1),a))&&(s.restored="hash"):r&&((s=i(r,a))&&(s.restored="storage"),void 0===e&&(e=!0),s&&n(s.toString(e),o)),s||t},s=function(t){var e=t.lat||t[0],n=t.lng||t[1];return Math.abs(e.toFixed(3))+"°"+(e>0?"N":"S")+" / "+Math.abs(n.toFixed(3))+"°"+(n>0?"E":"W")};if("object"==typeof L)L.Map.include({isViewportRestored:!1,isVisible:function(){return e(this.getContainer())},getViewportInfo:function(t,e){return i(this,t)},restoreViewport:function(t,e,n){n||(n={});var r=this,i=void 0===n.isCenterZoom||n.isCenterZoom,s=a(!1,i,n.storageName,n.noHashline,1);if(s&&(r.isViewportRestored=s.restored,s.zoom&&(t=s.center,e=s.zoom)),n&&(!n.noHashline||n.storageName)){var l=function(){o(r,i,n.storageName,n.noHashline)};r.on("moveend",l),window.addEventListener("beforeunload",l)}if(s&&s.bounds)try{return r.fitBounds(s.bounds)}catch(t){}return r.setView(t,e,n)},latLngToStr:function(t){return s(t)}});else{var l=mapboxgl;l.getViewportInfo=i,l.trackViewport=o,l.restoreViewport=function(t,e,n,r){return a(t,e,n,r,0)},l.applyViewport=function(t,e){e.bounds&&(t.fitBounds(e.bounds,{animate:!1}),e.pitch&&t.setPitch(e.pitch),e.bearing&&t.setBearing(e.bearing))},l.getStraightBounds=r,l.latLngToStr=s}}();